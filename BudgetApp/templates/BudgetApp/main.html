{% extends 'BudgetApp/base.html' %}

{% block title %}
Main Page
{% endblock %}

{% block content %}
<style>
    main{
        background-color: rgb(71, 71, 237);
        width: 100%;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .contaBox{
        width: 520px;
        height: 520px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
    }
    .box{
        width: 250px;
        height: 250px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: sans-serif;
        cursor: pointer;
    }
    .box1{
        background-color: #d4edda;
    }
    .box2{
        background-color: #f8d7da;
    }
    .box3{
        width: 520px;
        cursor: alias;
        background-color: #ffffff;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }
</style>
<main>
    <div class="contaBox">
        <div class="box box1">Income</div>
        <div class="box box2">Expenses</div>
        <div class="box box3">
            <p>IncomeandExpenses</p>
            <p class="p1"></p>
        </div>
    </div>
</main>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const box1 = document.querySelector('.box1');
        const box2 = document.querySelector('.box2');

        box1.addEventListener('click', function() {
            setTimeout(() => {
                location.href = '/main/income/';
            }, 500);
        });

        box2.addEventListener('click', function() {
            setTimeout(() => {
                location.href = '/main/expenses/';
            }, 500);
        });
    });
    const income = parseFloat(localStorage.getItem('income')) || 0;
    const expense = parseFloat(localStorage.getItem('expense')) || 0;
    
    const p = document.querySelector('.p1');  // id="p1" olan p tagını tapırıq
        if (p) {  // Əgər p elementini tapdıqsa, ona məzmunu təyin edirik
            p.textContent =  income - expense;
        } else {
            console.error("Element with id 'p1' not found.");
        }

</script>
{% endblock %}